if os.user then
print("Not allowed.")
return
end
print("[1] Create account")
print("[2] Reset Password")
print("[3] Delete account")
print("[4] Exit")
input=read()
if input=="1" then
write("Username:")
local user = read()
if fs.exists("/secacct/"..user) then
print("Account already exists.")
return
end
write("Password:")
local pass=read("*")
write("Confirm Password:")
if not pass==read("*") then
print("Passwords do not match.")
else
fs.makeDir("/secacct/"..user)
local h=fs.open("/secacct/"..user.."/.password", "w")
h.write(pass)
h.close()
print("Sucess.")
end
elseif input=="2" then
write("Username:")
local user = read()
if fs.exists("/secacct/"..user) then
write("New password:")
local pass=read("*")
write("Confirm new password:")
if pass==read("*") then
local h=fs.open("/secacct/"..user.."/.password", "w")
h.write(pass)
h.close()
print("Sucess.")
else
print("Passwords do not match.")
end
else
print("Acoount does not exist.")
end
elseif input=="3" then
write("Username:")
local user = read()
print("Type DELETE to confirm account deletion.")
if read()=="DELETE" then
local h=fs.open("/secacct/queue", "a")
h.writeLine(user)
h.close()
print("Account will be deleted on next reboot.")
else
print("Cancelled.")
end
end
