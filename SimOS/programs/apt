local tArgs = {...}

if tArgs[1]=="update" then
elseif tArgs[1]=="upgrade" then
elseif tArgs[1]=="install" then
elseif tArgs[1]=="addrepo" and tArgs[2] then
  local repos = system.get("apt")
  table.insert(repos.repos, tArgs[2])
  system.set("apt", repos)
elseif tArgs[1]=="remove" and tArgs[2] then
  local thingy = system.get("programs")
  local i=0
  repeat
    i=i+1
    if thingy[i][4]==tArgs[2] then break end
  until i==#thingy
  print(thingy[i][1].." will be removed. (y/n)")
  local _,key = os.pullEvent("char")
  if key~="y" then return end
  if thingy[i][3]=="nope" then
    print("APT cannot remove this package, check with your system administrator.")
  else
    if thingy[i][3]~="rmlistentry" then
      shell.run(thingy[i][3])
    end
    table.remove(thingy, i)
    system.set("programs", thingy)
  end
  print("Done.")
elseif tArgs[1]=="rmrepo" and tArgs[2] then
  local repos = system.get("apt")
  for i=1, #repos.repos do
  	if repos.repos[i]==tArgs[2] then
  	  table.remove(repos.repos, i)
  	  i=i-1
  	end
  end
  system.set("apt", repos)
else
  print("apt update - Updates the list of programs.")
  print("apt upgrade - Installs new versions of applications.")
  print("apt addrepo <id> - Adds an apt repository to check for apps.")
  print("apt install <package> - Installs the specified package.")
  print("apt remove <package> - Removes an installed package.")
  print("apt rmrepo <id> - Removes an apt repository.")
  print("apt help - Take a guess.")
  print("This APT has cat powers.")
end
